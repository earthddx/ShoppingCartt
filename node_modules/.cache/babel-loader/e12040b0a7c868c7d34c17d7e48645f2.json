{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\User\\\\my-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:\\\\Users\\\\User\\\\my-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\User\\\\my-app\\\\src\\\\Context.js\";\nimport React, { useState, useEffect } from \"react\";\nconst Context = React.createContext();\n\nfunction ContextProvider({\n  children\n}) {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        allPhotos = _useState2[0],\n        setAllPhotos = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        cartItems = _useState4[0],\n        setCartItems = _useState4[1];\n\n  const _useState5 = useState(0),\n        _useState6 = _slicedToArray(_useState5, 2),\n        priceItems = _useState6[0],\n        setPriceItems = _useState6[1];\n\n  const url = \"https://raw.githubusercontent.com/earthddx/ShoppingCartt/master/images.json\";\n  useEffect(() => {\n    fetch(url).then(res => res.json()).then(data => setAllPhotos(data));\n  }, []); //fecth data from images.json when component renders\n\n  function toggleFavorite(id) {\n    const updatedArr = allPhotos.map(photo => {\n      if (photo.id === id) {\n        return _objectSpread({}, photo, {\n          isFavorite: !photo.isFavorite\n        }); //return a new obect with !isFavorite\n      }\n\n      return photo;\n    });\n    setAllPhotos(updatedArr); //update array of all photos with new isFavorite property\n  }\n\n  function addToCart(newItem) {\n    setCartItems(prevItems => [...prevItems, newItem]); //every time a new item added to the cart, \n\n    setPriceItems(prevPrice => prevPrice + newItem.price); // we have to calculate total price\n  }\n\n  function removeFromCart(newItem) {\n    setCartItems(prevItems => prevItems.filter(item => item.id !== newItem.id)); //if the item is removed from cart\n\n    setPriceItems(prevPrice => prevPrice - newItem.price); //calculate total price again\n  }\n\n  function emptyCart() {\n    //empty cart after order is complete\n    setCartItems([]);\n  }\n\n  return React.createElement(Context.Provider, {\n    value: {\n      allPhotos,\n      toggleFavorite,\n      cartItems,\n      addToCart,\n      removeFromCart,\n      emptyCart,\n      priceItems,\n      setPriceItems\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, children);\n}\n\nexport { ContextProvider, Context }; //export both instead of just 'Context.provider' so we could use Context","map":{"version":3,"sources":["C:/Users/User/my-app/src/Context.js"],"names":["React","useState","useEffect","Context","createContext","ContextProvider","children","allPhotos","setAllPhotos","cartItems","setCartItems","priceItems","setPriceItems","url","fetch","then","res","json","data","toggleFavorite","id","updatedArr","map","photo","isFavorite","addToCart","newItem","prevItems","prevPrice","price","removeFromCart","filter","item","emptyCart"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AAEA,MAAMC,OAAO,GAAGH,KAAK,CAACI,aAAN,EAAhB;;AAEA,SAASC,eAAT,CAAyB;AAACC,EAAAA;AAAD,CAAzB,EAAqC;AAAA,oBACCL,QAAQ,CAAC,EAAD,CADT;AAAA;AAAA,QAC1BM,SAD0B;AAAA,QACfC,YADe;;AAAA,qBAECP,QAAQ,CAAC,EAAD,CAFT;AAAA;AAAA,QAE1BQ,SAF0B;AAAA,QAEfC,YAFe;;AAAA,qBAGGT,QAAQ,CAAC,CAAD,CAHX;AAAA;AAAA,QAG1BU,UAH0B;AAAA,QAGdC,aAHc;;AAKjC,QAAMC,GAAG,GAAG,6EAAZ;AACAX,EAAAA,SAAS,CAAC,MAAM;AACZY,IAAAA,KAAK,CAACD,GAAD,CAAL,CACKE,IADL,CACUC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADjB,EAEKF,IAFL,CAEUG,IAAI,IAAIV,YAAY,CAACU,IAAD,CAF9B;AAGH,GAJQ,EAIN,EAJM,CAAT,CANiC,CAU1B;;AAEP,WAASC,cAAT,CAAwBC,EAAxB,EAA4B;AACxB,UAAMC,UAAU,GAAGd,SAAS,CAACe,GAAV,CAAcC,KAAK,IAAI;AACtC,UAAGA,KAAK,CAACH,EAAN,KAAaA,EAAhB,EAAoB;AAChB,iCAAWG,KAAX;AAAkBC,UAAAA,UAAU,EAAE,CAACD,KAAK,CAACC;AAArC,WADgB,CACiC;AACpD;;AACD,aAAOD,KAAP;AACH,KALkB,CAAnB;AAOAf,IAAAA,YAAY,CAACa,UAAD,CAAZ,CARwB,CAQC;AAC5B;;AAED,WAASI,SAAT,CAAmBC,OAAnB,EAA4B;AACxBhB,IAAAA,YAAY,CAACiB,SAAS,IAAI,CAAC,GAAGA,SAAJ,EAAeD,OAAf,CAAd,CAAZ,CADwB,CAC2B;;AACnDd,IAAAA,aAAa,CAACgB,SAAS,IAAIA,SAAS,GAAGF,OAAO,CAACG,KAAlC,CAAb,CAFwB,CAE6B;AACxD;;AAED,WAASC,cAAT,CAAwBJ,OAAxB,EAAiC;AAC7BhB,IAAAA,YAAY,CAACiB,SAAS,IAAIA,SAAS,CAACI,MAAV,CAAiBC,IAAI,IAAIA,IAAI,CAACZ,EAAL,KAAYM,OAAO,CAACN,EAA7C,CAAd,CAAZ,CAD6B,CAC+C;;AAC5ER,IAAAA,aAAa,CAACgB,SAAS,IAAIA,SAAS,GAAGF,OAAO,CAACG,KAAlC,CAAb,CAF6B,CAEwB;AACxD;;AAED,WAASI,SAAT,GAAqB;AAAE;AACnBvB,IAAAA,YAAY,CAAC,EAAD,CAAZ;AACH;;AAED,SACI,oBAAC,OAAD,CAAS,QAAT;AAAkB,IAAA,KAAK,EAAE;AACrBH,MAAAA,SADqB;AAErBY,MAAAA,cAFqB;AAGrBV,MAAAA,SAHqB;AAIrBgB,MAAAA,SAJqB;AAKrBK,MAAAA,cALqB;AAMrBG,MAAAA,SANqB;AAOrBtB,MAAAA,UAPqB;AAQrBC,MAAAA;AARqB,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAUKN,QAVL,CADJ;AAcH;;AAED,SAAQD,eAAR,EAAyBF,OAAzB,G,CAAkC","sourcesContent":["import React, {useState, useEffect} from \"react\"\r\n\r\nconst Context = React.createContext()\r\n\r\nfunction ContextProvider({children}) {\r\n    const [allPhotos, setAllPhotos] = useState([])\r\n    const [cartItems, setCartItems] = useState([])\r\n    const [priceItems, setPriceItems] = useState(0)\r\n    \r\n    const url = \"https://raw.githubusercontent.com/earthddx/ShoppingCartt/master/images.json\"\r\n    useEffect(() => {\r\n        fetch(url)\r\n            .then(res => res.json())\r\n            .then(data => setAllPhotos(data))\r\n    }, []) //fecth data from images.json when component renders\r\n    \r\n    function toggleFavorite(id) { \r\n        const updatedArr = allPhotos.map(photo => {\r\n            if(photo.id === id) {  \r\n                return {...photo, isFavorite: !photo.isFavorite} //return a new obect with !isFavorite\r\n            }\r\n            return photo\r\n        })\r\n        \r\n        setAllPhotos(updatedArr) //update array of all photos with new isFavorite property\r\n    }\r\n    \r\n    function addToCart(newItem) {\r\n        setCartItems(prevItems => [...prevItems, newItem]) //every time a new item added to the cart, \r\n        setPriceItems(prevPrice => prevPrice + newItem.price)// we have to calculate total price\r\n    }\r\n    \r\n    function removeFromCart(newItem) {\r\n        setCartItems(prevItems => prevItems.filter(item => item.id !== newItem.id)) //if the item is removed from cart\r\n        setPriceItems(prevPrice => prevPrice - newItem.price)//calculate total price again\r\n    }\r\n    \r\n    function emptyCart() { //empty cart after order is complete\r\n        setCartItems([])\r\n    }\r\n    \r\n    return (\r\n        <Context.Provider value={{\r\n            allPhotos, \r\n            toggleFavorite, \r\n            cartItems, \r\n            addToCart, \r\n            removeFromCart, \r\n            emptyCart,\r\n            priceItems,\r\n            setPriceItems\r\n        }}>\r\n            {children}\r\n        </Context.Provider>\r\n    )\r\n}\r\n\r\nexport {ContextProvider, Context} //export both instead of just 'Context.provider' so we could use Context "]},"metadata":{},"sourceType":"module"}